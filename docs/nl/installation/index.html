
<!DOCTYPE html>

<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Installation &#8212; LFortran</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/ansi.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/lfortran-logo.svg"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Zoeken" href="../search/" />
    <link rel="next" title="Fortran Language" href="../language/" />
    <link rel="prev" title="LFortran Documentation" href="../" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=amber data-md-color-accent=orange>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#installation" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../" title="LFortran"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/lfortran-logo.svg" height="26"
                   alt="LFortran logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">LFortran Documentation</span>
          <span class="md-header-nav__topic"> Installation </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search/" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/lfortran/lfortran" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    LFortran
  </div>
</a>
          </div>
        </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Versions</button>
    <div class="dropdown-content md-hero">
          <a title="English" href="/../en/">English</a>
      
          <a title="Bengali" href="/../bn/">Bengali</a>
      
          <a title="Czech" href="/../cs/">Czech</a>
      
          <a title="German" href="/../de/">German</a>
      
          <a title="Spanish" href="/../es/">Spanish</a>
      
          <a title="French" href="/../fr/">French</a>
      
          <a title="Japanese" href="/../ja/">Japanese</a>
      
          <a title="Dutch" href="/../nl/">Dutch</a>
      
          <a title="Polish" href="/../pl/">Polish</a>
      
          <a title="Portuguese" href="/../pt/">Portuguese</a>
      
          <a title="Russian" href="/../ru/">Russian</a>
      
          <a title="Chinese" href="/../zh_CN/">Chinese</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../" class="md-tabs__link">LFortran</a></li>
            
            <li class="md-tabs__item"><a href="#" class="md-tabs__link">Getting started</a></li>
            
            <li class="md-tabs__item"><a href="../progress/" class="md-tabs__link">LFortran Development Status</a></li>
            
            <li class="md-tabs__item"><a href="../design/" class="md-tabs__link">Developers's Guide</a></li>
            
            <li class="md-tabs__item"><a href="../intrinsics/array/" class="md-tabs__link">Intrinsics</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../" title="LFortran" class="md-nav__button md-logo">
      
        <img src="../_static/lfortran-logo.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../"
       title="LFortran">LFortran Documentation</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/lfortran/lfortran" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    LFortran
  </div>
</a>
    </div>
  
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Getting started</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Installation </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Installation</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#installation--page-root" class="md-nav__link">Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#binaries" class="md-nav__link">Binaries</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-a-source-tarball" class="md-nav__link">Build From a Source Tarball</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git" class="md-nav__link">Build From Git</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-on-windows-with-visual-studio" class="md-nav__link">Build from Git on Windows with Visual Studio</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-on-windows-with-wsl" class="md-nav__link">Build from Git on Windows with WSL</a>
        </li>
        <li class="md-nav__item"><a href="#enabling-the-jupyter-kernel" class="md-nav__link">Enabling the Jupyter Kernel</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-with-nix" class="md-nav__link">Build From Git with Nix</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#with-root" class="md-nav__link">With Root</a>
        </li>
        <li class="md-nav__item"><a href="#without-root" class="md-nav__link">Without Root</a>
        </li>
        <li class="md-nav__item"><a href="#development" class="md-nav__link">Development</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#note-about-dependencies" class="md-nav__link">Note About Dependencies</a>
        </li>
        <li class="md-nav__item"><a href="#note-for-users-who-do-not-use-conda" class="md-nav__link">Note for users who do not use Conda</a>
        </li>
        <li class="md-nav__item"><a href="#stacktraces" class="md-nav__link">Stacktraces</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#ubuntu" class="md-nav__link">Ubuntu</a>
        </li>
        <li class="md-nav__item"><a href="#macos" class="md-nav__link">macOS</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#binaries" class="md-nav__link">Binaries</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-a-source-tarball" class="md-nav__link">Build From a Source Tarball</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-git" class="md-nav__link">Build From Git</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-git-on-windows-with-visual-studio" class="md-nav__link">Build from Git on Windows with Visual Studio</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-git-on-windows-with-wsl" class="md-nav__link">Build from Git on Windows with WSL</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#enabling-the-jupyter-kernel" class="md-nav__link">Enabling the Jupyter Kernel</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#build-from-git-with-nix" class="md-nav__link">Build From Git with Nix</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#note-about-dependencies" class="md-nav__link">Note About Dependencies</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#note-for-users-who-do-not-use-conda" class="md-nav__link">Note for users who do not use Conda</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#stacktraces" class="md-nav__link">Stacktraces</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language/" class="md-nav__link">Fortran Language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../usage/" class="md-nav__link">LFortran User Guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">LFortran Development Status</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../progress/" class="md-nav__link">LFortran Development Status</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../progress/#topics" class="md-nav__link">Topics</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Developer's Guide</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../design/" class="md-nav__link">LFortran Design</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../developer_tutorial/" class="md-nav__link">Developer Tutorial</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../ast_and_asr/" class="md-nav__link">Difference between an AST and ASR</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../contributing/" class="md-nav__link">Contributing</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">LFortran Intrinsics</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/array/" class="md-nav__link">Array Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/bit/" class="md-nav__link">Bit Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/character/" class="md-nav__link">Character Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/kind-type/" class="md-nav__link">Kind Type Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/mathematical/" class="md-nav__link">Mathematical Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/numeric/" class="md-nav__link">Numeric Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../intrinsics/misc/" class="md-nav__link">Miscellaneous Intrinsic Functions</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">LFortran ASR Nodes</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/cast_kind_nodes/cast_kind/" class="md-nav__link">cast_kind</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/expression_nodes/expression_nodes/" class="md-nav__link">ASR Expression Nodes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/kinds_nodes/kinds/" class="md-nav__link">kinds</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/statement_nodes/statement_nodes/" class="md-nav__link">ASR Statement Nodes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/symbol_nodes/symbol_nodes/" class="md-nav__link">ASR Symbol Nodes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../asr/asr_nodes/type_nodes/ttype/" class="md-nav__link">ttype</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#installation--page-root" class="md-nav__link">Installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#binaries" class="md-nav__link">Binaries</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-a-source-tarball" class="md-nav__link">Build From a Source Tarball</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git" class="md-nav__link">Build From Git</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-on-windows-with-visual-studio" class="md-nav__link">Build from Git on Windows with Visual Studio</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-on-windows-with-wsl" class="md-nav__link">Build from Git on Windows with WSL</a>
        </li>
        <li class="md-nav__item"><a href="#enabling-the-jupyter-kernel" class="md-nav__link">Enabling the Jupyter Kernel</a>
        </li>
        <li class="md-nav__item"><a href="#build-from-git-with-nix" class="md-nav__link">Build From Git with Nix</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#with-root" class="md-nav__link">With Root</a>
        </li>
        <li class="md-nav__item"><a href="#without-root" class="md-nav__link">Without Root</a>
        </li>
        <li class="md-nav__item"><a href="#development" class="md-nav__link">Development</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#note-about-dependencies" class="md-nav__link">Note About Dependencies</a>
        </li>
        <li class="md-nav__item"><a href="#note-for-users-who-do-not-use-conda" class="md-nav__link">Note for users who do not use Conda</a>
        </li>
        <li class="md-nav__item"><a href="#stacktraces" class="md-nav__link">Stacktraces</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#ubuntu" class="md-nav__link">Ubuntu</a>
        </li>
        <li class="md-nav__item"><a href="#macos" class="md-nav__link">macOS</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="installation">
<h1 id="installation--page-root">Installation<a class="headerlink" href="#installation--page-root" title="Permalink naar deze titel">¶</a></h1>
<p>All the instructions below work on Linux, macOS and Windows.</p>
<section id="binaries">
<h2 id="binaries">Binaries<a class="headerlink" href="#binaries" title="Permalink naar deze titel">¶</a></h2>
<p>The recommended way to install LFortran is using Conda.
Install Conda for example by installing the
<a class="reference external" href="https://conda.io/en/latest/miniconda.html">Miniconda</a> installation by following instructions there for your platform.
Then create a new environment (you can choose any name, here we chose <code class="docutils literal notranslate"><span class="pre">lf</span></code>) and
activate it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>lf
conda<span class="w"> </span>activate<span class="w"> </span>lf
</pre></div>
</div>
<p>Then install LFortran by:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>lfortran<span class="w"> </span>-c<span class="w"> </span>conda-forge
</pre></div>
</div>
<p>Now the <code class="docutils literal notranslate"><span class="pre">lf</span></code> environment has the <code class="docutils literal notranslate"><span class="pre">lfortran</span></code> compiler available, you can start the
interactive prompt by executing <code class="docutils literal notranslate"><span class="pre">lfortran</span></code>, or see the command line options using
<code class="docutils literal notranslate"><span class="pre">lfortran</span> <span class="pre">-h</span></code>.</p>
<p>The Jupyter kernel is automatically installed by the above command, so after installing Jupyter itself:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>jupyter<span class="w"> </span>-c<span class="w"> </span>conda-forge
</pre></div>
</div>
<p>You can create a Fortran based Jupyter notebook by executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>jupyter<span class="w"> </span>notebook
</pre></div>
</div>
<p>and selecting <code class="docutils literal notranslate"><span class="pre">New-&gt;Fortran</span></code>.</p>
</section>
<section id="build-from-a-source-tarball">
<h2 id="build-from-a-source-tarball">Build From a Source Tarball<a class="headerlink" href="#build-from-a-source-tarball" title="Permalink naar deze titel">¶</a></h2>
<p>This method is the recommended method if you just want to install LFortran, either yourself or in a package manager (Spack, Conda, Debian, etc.). The source tarball has all the generated files included and has minimal dependencies.</p>
<p>First we have to install dependencies, for example using Conda:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>lf<span class="w"> </span>python<span class="w"> </span>cmake<span class="w"> </span>llvmdev
conda<span class="w"> </span>activate<span class="w"> </span>lf
</pre></div>
</div>
<p>Then download a tarball from
<a class="reference external" href="https://lfortran.org/download/">https://lfortran.org/download/</a>,
e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://lfortran.github.io/tarballs/dev/lfortran-0.9.0.tar.gz
tar<span class="w"> </span>xzf<span class="w"> </span>lfortran-0.9.0.tar.gz
<span class="nb">cd</span><span class="w"> </span>lfortran-0.9.0
</pre></div>
</div>
<p>And build:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cmake -DWITH_LLVM=yes -DCMAKE_INSTALL_PREFIX=`pwd`/inst .
make -j8
make install
</pre></div>
</div>
<p>This will install <code class="docutils literal notranslate"><span class="pre">lfortran</span></code> into <code class="docutils literal notranslate"><span class="pre">inst/bin</span></code>.  It assumes that c++ and cc are available, which on Linux
are typically the GNU C++/C compilers.</p>
</section>
<section id="build-from-git">
<h2 id="build-from-git">Build From Git<a class="headerlink" href="#build-from-git" title="Permalink naar deze titel">¶</a></h2>
<p>We assume you have C++ compilers installed, as well as <code class="docutils literal notranslate"><span class="pre">git</span></code> and <code class="docutils literal notranslate"><span class="pre">wget</span></code>.
In Ubuntu, you can also install <code class="docutils literal notranslate"><span class="pre">binutils-dev</span></code> for stacktraces.</p>
<p>If you do not have Conda installed, you can do so on Linux (and similarly on
other platforms):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>--no-check-certificate<span class="w"> </span>https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh<span class="w"> </span>-O<span class="w"> </span>miniconda.sh
bash<span class="w"> </span>miniconda.sh<span class="w"> </span>-b<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/conda_root
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</pre></div>
</div>
<p>Then prepare the environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>lf<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="nv">llvmdev</span><span class="o">=</span><span class="m">11</span>.0.1<span class="w"> </span><span class="nv">bison</span><span class="o">=</span><span class="m">3</span>.4<span class="w"> </span>re2c<span class="w"> </span>python<span class="w"> </span>cmake<span class="w"> </span>make<span class="w"> </span>toml
conda<span class="w"> </span>activate<span class="w"> </span>lf
</pre></div>
</div>
<p>Clone the LFortran git repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lfortran</span><span class="o">/</span><span class="n">lfortran</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">lfortran</span>
</pre></div>
</div>
<p>Generate files that are needed for the build (this step depends on <code class="docutils literal notranslate"><span class="pre">re2c</span></code>, <code class="docutils literal notranslate"><span class="pre">bison</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./build0.sh
</pre></div>
</div>
<p>Now the process is the same as installing from the source tarball. For example to build in Debug mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cmake -DCMAKE_BUILD_TYPE=Debug -DWITH_LLVM=yes -DCMAKE_INSTALL_PREFIX=`pwd`/inst .
make -j8
</pre></div>
</div>
<p>Run tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ctest
./run_tests.py
</pre></div>
</div>
<p>Run an interactive prompt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./src/bin/lfortran
</pre></div>
</div>
</section>
<section id="build-from-git-on-windows-with-visual-studio">
<h2 id="build-from-git-on-windows-with-visual-studio">Build from Git on Windows with Visual Studio<a class="headerlink" href="#build-from-git-on-windows-with-visual-studio" title="Permalink naar deze titel">¶</a></h2>
<p>Install Visual Studio (MSVC), for example the version 2022, you can download the
Community version for free from: https://visualstudio.microsoft.com/downloads/.</p>
<p>Install miniforge using the Windows installer from https://github.com/conda-forge/miniforge.</p>
<p>Launch the Miniforge Prompt from the Desktop.</p>
<p>In the shell, initialize the MSVC compiler using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">call</span> <span class="s2">"C:\Program Files\Microsoft Visual Studio</span><span class="se">\202</span><span class="s2">2\Community\Common7\Tools\VsDevCmd"</span> <span class="o">-</span><span class="n">arch</span><span class="o">=</span><span class="n">x64</span>
</pre></div>
</div>
<p>You can optionally test that MSVC works by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cl /?
link /?
</pre></div>
</div>
<p>Both commands must print help (several pages).</p>
<p>Now you can download and build LFortran:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">lfortran</span><span class="o">/</span><span class="n">lfortran</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">lfortran</span>
<span class="n">conda</span> <span class="n">env</span> <span class="n">create</span> <span class="o">-</span><span class="n">f</span> <span class="n">environment_win</span><span class="o">.</span><span class="n">yml</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">lf</span>
<span class="n">build0</span><span class="o">.</span><span class="n">bat</span>
<span class="n">build1</span><span class="o">.</span><span class="n">bat</span>
</pre></div>
</div>
<p>If everything compiled, then you can use LFortran as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inst</span>\<span class="nb">bin</span>\<span class="n">lfortran</span> <span class="n">examples</span><span class="o">/</span><span class="n">expr2</span><span class="o">.</span><span class="n">f90</span>
<span class="n">a</span><span class="o">.</span><span class="n">out</span>
<span class="n">inst</span>\<span class="nb">bin</span>\<span class="n">lfortran</span>
</pre></div>
</div>
<p>And so on.</p>
<p>Note: LFortran currently uses the MSVC’s linker program (<code class="docutils literal notranslate"><span class="pre">link</span></code>), which is only
available when the MSVC bat script above is ran. If you forget to activate it,
LFortran’s linking will fail.</p>
<p>Note: the miniforge shell seems to be running some version of <code class="docutils literal notranslate"><span class="pre">git-bash</span></code>
(although it is <code class="docutils literal notranslate"><span class="pre">cmd.exe</span></code>), which has some unix-like filesystem mounted in
<code class="docutils literal notranslate"><span class="pre">/usr</span></code> and several commands available such as <code class="docutils literal notranslate"><span class="pre">ls</span></code>, <code class="docutils literal notranslate"><span class="pre">which</span></code>, <code class="docutils literal notranslate"><span class="pre">git</span></code>, <code class="docutils literal notranslate"><span class="pre">vim</span></code>.  For
this reason the Conda build <code class="docutils literal notranslate"><span class="pre">environment_win.yml</span></code> contains everything needed,
including <code class="docutils literal notranslate"><span class="pre">git</span></code>.</p>
</section>
<section id="build-from-git-on-windows-with-wsl">
<h2 id="build-from-git-on-windows-with-wsl">Build from Git on Windows with WSL<a class="headerlink" href="#build-from-git-on-windows-with-wsl" title="Permalink naar deze titel">¶</a></h2>
<ul class="simple">
<li><p>In windows search “turn windows features on or off”.</p></li>
<li><p>Tick Windows subsystem for Linux.</p></li>
<li><p>Press OK and restart computer.</p></li>
<li><p>Go to Microsoft store and download Ubuntu 20.04, and launch it.</p></li>
<li><p>Run the following commands.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w">  </span>https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-x86_64.sh<span class="w"> </span>-O<span class="w"> </span>miniconda.sh
bash<span class="w"> </span>miniconda.sh<span class="w"> </span>-b<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/conda_root
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Now do the following to configure the path</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>nano<span class="w"> </span>.bashrc
</pre></div>
</div>
<ul class="simple">
<li><p>Then go to the bottom of the file and paste the following</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Then press ctrl + O (save), Enter (confirm), ctrl + X (exit)</p></li>
<li><p>After that restart Ubuntu</p></li>
<li><p>Run the following</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>lf<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span><span class="nv">llvmdev</span><span class="o">=</span><span class="m">11</span>.0.1<span class="w"> </span><span class="nv">bison</span><span class="o">=</span><span class="m">3</span>.4<span class="w"> </span>re2c<span class="w"> </span>python<span class="w"> </span>cmake<span class="w"> </span>make<span class="w"> </span>toml
conda<span class="w"> </span>init<span class="w"> </span>bash
</pre></div>
</div>
<ul class="simple">
<li><p>Restart Ubuntu again</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>lf
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>build-essential
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>zlib1g-dev
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>clang
</pre></div>
</div>
<ul class="simple">
<li><p>You can change the directory to a Windows location using <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/mnt/[drive</span> <span class="pre">letter]/[windows</span> <span class="pre">location]</span></code>.</p></li>
<li><p>e.g. <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">mnt/c/Users/name/source/repos/</span></code></p></li>
<li><p>Now clone the LFortran git repository</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/lfortran/lfortran.git
<span class="nb">cd</span><span class="w"> </span>lfortran
</pre></div>
</div>
<ul class="simple">
<li><p>Run the following commands</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>lf
./build0.sh
cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug<span class="w"> </span>-DWITH_LLVM<span class="o">=</span>yes<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/inst<span class="w"> </span>.<span class="se">\</span>
make<span class="w"> </span>-j8
</pre></div>
</div>
<ul class="simple">
<li><p>If everything compiles, you can use LFortran as follows</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./src/bin/lfortran<span class="w"> </span>./examples/expr2.f90
./a.out
</pre></div>
</div>
<ul class="simple">
<li><p>Run an interactive prompt</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./src/bin/lfortran
</pre></div>
</div>
<ul class="simple">
<li><p>Run tests</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ctest
./run_tests.py
</pre></div>
</div>
</section>
<section id="enabling-the-jupyter-kernel">
<h2 id="enabling-the-jupyter-kernel">Enabling the Jupyter Kernel<a class="headerlink" href="#enabling-the-jupyter-kernel" title="Permalink naar deze titel">¶</a></h2>
<p>To install the Jupyter kernel, install the following Conda packages also:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">xeus</span><span class="o">=</span><span class="mf">3.0.5</span> <span class="n">xeus</span><span class="o">-</span><span class="n">zmq</span><span class="o">=</span><span class="mf">1.0.2</span> <span class="n">xtl</span> <span class="n">nlohmann_json</span> <span class="n">cppzmq</span>
</pre></div>
</div>
<p>and enable the kernel by <code class="docutils literal notranslate"><span class="pre">-DWITH_XEUS=yes</span></code> and install into <code class="docutils literal notranslate"><span class="pre">$CONDA_PREFIX</span></code>. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> \
    <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Debug</span> \
    <span class="o">-</span><span class="n">DWITH_LLVM</span><span class="o">=</span><span class="n">yes</span> \
    <span class="o">-</span><span class="n">DWITH_XEUS</span><span class="o">=</span><span class="n">yes</span> \
    <span class="o">-</span><span class="n">DCMAKE_PREFIX_PATH</span><span class="o">=</span><span class="s2">"$CONDA_PREFIX"</span> \
    <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="s2">"$CONDA_PREFIX"</span> \
    <span class="o">.</span>
<span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">-</span><span class="n">j4</span> <span class="o">--</span><span class="n">target</span> <span class="n">install</span>
</pre></div>
</div>
<p>To use it, install Jupyter (<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">jupyter</span></code>) and test that the LFortran
kernel was found:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">kernelspec</span> <span class="nb">list</span> <span class="o">--</span><span class="n">json</span>
</pre></div>
</div>
<p>Then launch a Jupyter notebook as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">notebook</span>
</pre></div>
</div>
<p>Click <code class="docutils literal notranslate"><span class="pre">New-&gt;Fortran</span></code>. To launch a terminal jupyter LFortran console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">console</span> <span class="o">--</span><span class="n">kernel</span><span class="o">=</span><span class="n">fortran</span>
</pre></div>
</div>
</section>
<section id="build-from-git-with-nix">
<h2 id="build-from-git-with-nix">Build From Git with Nix<a class="headerlink" href="#build-from-git-with-nix" title="Permalink naar deze titel">¶</a></h2>
<p>One of the ways to ensure exact environment and dependencies is with <code class="docutils literal notranslate"><span class="pre">nix</span></code>. This will ensure that system dependencies do not interfere with the development environment. If you want, you can report bugs in a <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code> environment to make it easier for others to reproduce.</p>
<section id="with-root">
<h3 id="with-root">With Root<a class="headerlink" href="#with-root" title="Permalink naar deze titel">¶</a></h3>
<p>We start by getting <code class="docutils literal notranslate"><span class="pre">nix</span></code>. The following multi-user installation will work on any machine with a Linux distribution, MacOS or Windows (via WSL):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sh<span class="w"> </span>&lt;<span class="o">(</span>curl<span class="w"> </span>-L<span class="w"> </span>https://nixos.org/nix/install<span class="o">)</span><span class="w"> </span>--daemon
</pre></div>
</div>
</section>
<section id="without-root">
<h3 id="without-root">Without Root<a class="headerlink" href="#without-root" title="Permalink naar deze titel">¶</a></h3>
<p>If you would like to not provide <code class="docutils literal notranslate"><span class="pre">nix</span></code> with root access to your machine, on Linux distributions we can use <a class="reference external" href="https://github.com/DavHau/nix-portable">nix-portable</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>https://github.com/DavHau/nix-portable/releases/download/v003/nix-portable
</pre></div>
</div>
<p>Now just prepend all <code class="docutils literal notranslate"><span class="pre">nix-shell</span></code> commands with <code class="docutils literal notranslate"><span class="pre">NP_RUNTIME=bwrap</span> <span class="pre">./nix-portable</span> </code>. So:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Do not</span>
nix-shell<span class="w"> </span>--run<span class="w"> </span><span class="s2">"bash"</span>
<span class="c1"># Do</span>
<span class="nv">NP_RUNTIME</span><span class="o">=</span>bwrap<span class="w"> </span>./nix-portable<span class="w"> </span>nix-shell<span class="w"> </span>--run<span class="w"> </span><span class="s2">"bash"</span>
</pre></div>
</div>
</section>
<section id="development">
<h3 id="development">Development<a class="headerlink" href="#development" title="Permalink naar deze titel">¶</a></h3>
<p>Now we can enter the development environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nix-shell<span class="w"> </span>--run<span class="w"> </span><span class="s2">"bash"</span><span class="w"> </span>--cores<span class="w"> </span><span class="m">4</span><span class="w"> </span>-j4<span class="w"> </span>--pure<span class="w"> </span>ci/shell.nix
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--pure</span></code> flag ensures no system dependencies are used in the environment.</p>
<p>The build steps are the same as with the <code class="docutils literal notranslate"><span class="pre">ci</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./build0.sh
./build1.sh
</pre></div>
</div>
<p>To change the compilation environment from <code class="docutils literal notranslate"><span class="pre">gcc</span></code> (default) to <code class="docutils literal notranslate"><span class="pre">clang</span></code> we can use <code class="docutils literal notranslate"><span class="pre">--argstr</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nix-shell<span class="w"> </span>--run<span class="w"> </span><span class="s2">"bash"</span><span class="w"> </span>--cores<span class="w"> </span><span class="m">4</span><span class="w"> </span>-j4<span class="w"> </span>--pure<span class="w"> </span>ci/shell.nix<span class="w"> </span>--argstr<span class="w"> </span>clangOnly<span class="w"> </span><span class="s2">"yes"</span>
</pre></div>
</div>
</section>
</section>
<section id="note-about-dependencies">
<h2 id="note-about-dependencies">Note About Dependencies<a class="headerlink" href="#note-about-dependencies" title="Permalink naar deze titel">¶</a></h2>
<p>End users (and distributions) are encouraged to use the tarball
from <a class="reference external" href="https://lfortran.org/download/">https://lfortran.org/download/</a>,
which only depends on LLVM, CMake and a C++ compiler.</p>
<p>The tarball is generated automatically by our CI (continuous integration) and
contains some autogenerated files: the parser, the AST and ASR nodes, which is generated by an ASDL
translator (requires Python).</p>
<p>The instructions from git are to be used when developing LFortran itself.</p>
</section>
<section id="note-for-users-who-do-not-use-conda">
<h2 id="note-for-users-who-do-not-use-conda">Note for users who do not use Conda<a class="headerlink" href="#note-for-users-who-do-not-use-conda" title="Permalink naar deze titel">¶</a></h2>
<p>Following are the dependencies necessary for installing this
repository in development mode,</p>
<ul class="simple">
<li><p><a class="reference external" href="https://ftp.gnu.org/gnu/bison/bison-3.5.1.tar.xz">Bison - 3.5.1</a></p></li>
<li><p><a class="reference external" href="https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.1/llvm-11.0.1.src.tar.xz">LLVM - 11.0.1</a></p></li>
<li><p><a class="reference external" href="https://re2c.org/install/install.html">re2c - 2.0.3</a></p></li>
<li><p><a class="reference external" href="ftp://sourceware.org/pub/binutils/snapshots/binutils-2.31.90.tar.xz">binutils - 2.31.90</a> - Make sure that you should enable the required options related to this dependency to build the dynamic libraries (the ones ending with <code class="docutils literal notranslate"><span class="pre">.so</span></code>).</p></li>
</ul>
</section>
<section id="stacktraces">
<h2 id="stacktraces">Stacktraces<a class="headerlink" href="#stacktraces" title="Permalink naar deze titel">¶</a></h2>
<p>LFortran can print stacktraces when there is an unhandled exception, as well as
on any compiler error with the <code class="docutils literal notranslate"><span class="pre">--show-stacktrace</span></code> option. This is very helpful
for developing the compiler itself to see where in LFortran the problem is. The
stacktrace support is turned off by default, to enable it,
compile LFortran with the <code class="docutils literal notranslate"><span class="pre">-DWITH_STACKTRACE=yes</span></code> cmake option after installing
the prerequisites on each platform per the instructions below.</p>
<section id="ubuntu">
<h3 id="ubuntu">Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink naar deze titel">¶</a></h3>
<p>In Ubuntu, <code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span> <span class="pre">binutils-dev</span></code>.</p>
</section>
<section id="macos">
<h3 id="macos">macOS<a class="headerlink" href="#macos" title="Permalink naar deze titel">¶</a></h3>
<p>If you use the default Clang compiler on macOS, then the stacktraces should
just work on both Intel and M1 based macOS (the CMake build system
automatically invokes the <code class="docutils literal notranslate"><span class="pre">dsymtuil</span></code> tool and our Python scripts to store the
debug information, see <code class="docutils literal notranslate"><span class="pre">src/bin/CMakeLists.txt</span></code> for more details). If it does
not work, please report a bug.</p>
<p>If you do not like the default way, an alternative is to use bintutils. For
that, first install
<a class="reference external" href="https://spack.io/">Spack</a>, then:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">spack</span> <span class="n">install</span> <span class="n">binutils</span>
<span class="n">spack</span> <span class="n">find</span> <span class="o">-</span><span class="n">p</span> <span class="n">binutils</span>
</pre></div>
</div>
<p>The last command will show a full path to the installed <code class="docutils literal notranslate"><span class="pre">binutils</span></code> package. Add
this path to your shell config file, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">CMAKE_PREFIX_PATH_LFORTRAN</span><span class="o">=/</span><span class="n">Users</span><span class="o">/</span><span class="n">ondrej</span><span class="o">/</span><span class="n">repos</span><span class="o">/</span><span class="n">spack</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">spack</span><span class="o">/</span><span class="n">darwin</span><span class="o">-</span><span class="n">catalina</span><span class="o">-</span><span class="n">broadwell</span><span class="o">/</span><span class="n">apple</span><span class="o">-</span><span class="n">clang</span><span class="o">-</span><span class="mf">11.0.0</span><span class="o">/</span><span class="n">binutils</span><span class="o">-</span><span class="mf">2.36.1</span><span class="o">-</span><span class="n">wy6osfm6bp2323g3jpv2sjuttthwx3gd</span>
</pre></div>
</div>
<p>and compile LFortran with the
<code class="docutils literal notranslate"><span class="pre">-DCMAKE_PREFIX_PATH="$CMAKE_PREFIX_PATH_LFORTRAN;$CONDA_PREFIX"</span></code> cmake option.
The <code class="docutils literal notranslate"><span class="pre">$CONDA_PREFIX</span></code> is there if you install some other dependencies (such as
<code class="docutils literal notranslate"><span class="pre">llvm</span></code>) using Conda, otherwise you can remove it.</p>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../" title="LFortran Documentation"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> LFortran Documentation </span>
              </div>
            </a>
          
          
            <a href="../language/" title="Fortran Language"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Fortran Language </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2022 LFortran contributors.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>