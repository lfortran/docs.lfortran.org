
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.lfortran.org/installation/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.16">
    
    
      
        <title>Installation - LFortran Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1c3799f8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../ansi.css">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="LFortran Documentation" class="md-header__button md-logo" aria-label="LFortran Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LFortran Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/lfortran/lfortran" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lfortran/lfortran
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Getting started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../progress/" class="md-tabs__link">
        LFortran Development Status
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../design/" class="md-tabs__link">
        Developer's Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../intrinsics/array/allocated/" class="md-tabs__link">
        LFortran Intrinsics
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="LFortran Documentation" class="md-nav__button md-logo" aria-label="LFortran Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LFortran Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/lfortran/lfortran" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    lfortran/lfortran
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#binaries" class="md-nav__link">
    Binaries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-a-source-tarball" class="md-nav__link">
    Build From a Source Tarball
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git" class="md-nav__link">
    Build From Git
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-on-windows-with-visual-studio" class="md-nav__link">
    Build from Git on Windows with Visual Studio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-on-windows-with-wsl" class="md-nav__link">
    Build from Git on Windows with WSL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling-the-jupyter-kernel" class="md-nav__link">
    Enabling the Jupyter Kernel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-with-nix" class="md-nav__link">
    Build From Git with Nix
  </a>
  
    <nav class="md-nav" aria-label="Build From Git with Nix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with-root" class="md-nav__link">
    With Root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#without-root" class="md-nav__link">
    Without Root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development" class="md-nav__link">
    Development
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-about-dependencies" class="md-nav__link">
    Note About Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-for-users-who-do-not-use-conda" class="md-nav__link">
    Note for users who do not use Conda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stacktraces" class="md-nav__link">
    Stacktraces
  </a>
  
    <nav class="md-nav" aria-label="Stacktraces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    Ubuntu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    macOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../language/" class="md-nav__link">
        Language
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          LFortran Development Status
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="LFortran Development Status" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          LFortran Development Status
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../progress/" class="md-nav__link">
        Progress
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Developer's Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer's Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developer's Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        LFortran Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developer_tutorial/" class="md-nav__link">
        Developer Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ast_and_asr/" class="md-nav__link">
        Difference between an AST and ASR
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          LFortran Intrinsics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="LFortran Intrinsics" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          LFortran Intrinsics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_1">
          Array Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Array Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Array Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/array/allocated/" class="md-nav__link">
        allocated(x): Status Check
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/array/cshift/" class="md-nav__link">
        cshift(A, shift [, dim]): Circular Shift
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/array/size/" class="md-nav__link">
        size(x): Size of Array
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Bit Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Bit Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Bit Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/bge/" class="md-nav__link">
        bge(x, y): Bitwise Greater or Equal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/bgt/" class="md-nav__link">
        bgt(x, y): Bitwise Greater Than
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/bit_size/" class="md-nav__link">
        bit_size(x): Bit Size
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/ble/" class="md-nav__link">
        bge(x, y): Bitwise Less or Equal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/blt/" class="md-nav__link">
        blt(x, y): Bitwise Less Than
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/btest/" class="md-nav__link">
        btest(x, pos): Bit Test at Position
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/shiftl/" class="md-nav__link">
        shiftl(x, shift): Shift Left
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/bit/shiftr/" class="md-nav__link">
        shiftr(x, shift): Shift Right
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Character Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Character Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Character Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/achar/" class="md-nav__link">
        achar(x, kind): To Character in ASCII set.
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/adjustl/" class="md-nav__link">
        adjustl(string): Left Adjust String
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/adjustr/" class="md-nav__link">
        adjustr(string): Right Adjust String
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/char/" class="md-nav__link">
        char(x, [, kind]): Integer to Character
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/lge/" class="md-nav__link">
        lge(x, y): Lexically Greater or Equal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/character/len_trim/" class="md-nav__link">
        len_trim(string): Length Ignoring Trailing Blanks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Kind Type Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Kind Type Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Kind Type Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/kind-type/kind/" class="md-nav__link">
        kind(x): Kind of an Entity
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_5">
          Mathematical Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Mathematical Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          Mathematical Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/acos/" class="md-nav__link">
        acos(x): Trigonometric Arc Cosine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/acosh/" class="md-nav__link">
        acosh(x): Inverse Hyperbolic Cosine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/asin/" class="md-nav__link">
        asin(x): Trigonometric Arcsine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/asinh/" class="md-nav__link">
        asinh(x): Inverse Hyperbolic Arcsine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/atan/" class="md-nav__link">
        atan(x): Trigonometric ArcTangent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/atan2/" class="md-nav__link">
        atan2(y, x): ArcTangent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/atanh/" class="md-nav__link">
        atanh(x): Inverse Hyperbolic Tangent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/mathematical/fraction/" class="md-nav__link">
        fraction(x): Fractional Part in Model Representation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_6" type="checkbox" id="__nav_5_6" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_6">
          Numeric Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Numeric Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_6">
          <span class="md-nav__icon md-icon"></span>
          Numeric Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/abs/" class="md-nav__link">
        abs(x): Absolute Value
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/aimag/" class="md-nav__link">
        aimag(x): Imaginary Part
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/aint/" class="md-nav__link">
        aint(x, [kind]): Truncate to a Whole Number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/anint/" class="md-nav__link">
        anint(x, [kind]): Round to Nearest Whole Number
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/ceiling/" class="md-nav__link">
        ceiling(x): Integer Ceiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/cmplx/" class="md-nav__link">
        cmplx(x [, [, kind]]): Convert to Complex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/conjg/" class="md-nav__link">
        conjg(x): Complex Conjugate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/digits/" class="md-nav__link">
        digits(x): Significant Binary Digits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/dim/" class="md-nav__link">
        dim(x, y): Positive Difference or 0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/epsilon/" class="md-nav__link">
        epsilon(x): Epsilon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/erf/" class="md-nav__link">
        erf(x): Error
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/erfc/" class="md-nav__link">
        erfc(x): Complementary Error
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/exp/" class="md-nav__link">
        exp(x): Exponential
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/floor/" class="md-nav__link">
        floor(x, kind): Integer Floor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/gamma/" class="md-nav__link">
        gamma(x): Gamma
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/numeric/mod/" class="md-nav__link">
        mod(x, y): Modulus
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_7" type="checkbox" id="__nav_5_7" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_7">
          Miscellaneous Intrinsic Functions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Miscellaneous Intrinsic Functions" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_7">
          <span class="md-nav__icon md-icon"></span>
          Miscellaneous Intrinsic Functions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/misc/command_argument_count/" class="md-nav__link">
        command_argument_count(): Number of Command Line Arguments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/misc/cpu_time/" class="md-nav__link">
        cpu_time(x): CPU Elapsed Time
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/misc/date_and_time/" class="md-nav__link">
        date_and_time([date, time, zone, values]): Date and Time
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intrinsics/misc/new_line/" class="md-nav__link">
        new_line(x): New Line Character
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#binaries" class="md-nav__link">
    Binaries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-a-source-tarball" class="md-nav__link">
    Build From a Source Tarball
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git" class="md-nav__link">
    Build From Git
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-on-windows-with-visual-studio" class="md-nav__link">
    Build from Git on Windows with Visual Studio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-on-windows-with-wsl" class="md-nav__link">
    Build from Git on Windows with WSL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling-the-jupyter-kernel" class="md-nav__link">
    Enabling the Jupyter Kernel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-from-git-with-nix" class="md-nav__link">
    Build From Git with Nix
  </a>
  
    <nav class="md-nav" aria-label="Build From Git with Nix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with-root" class="md-nav__link">
    With Root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#without-root" class="md-nav__link">
    Without Root
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development" class="md-nav__link">
    Development
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-about-dependencies" class="md-nav__link">
    Note About Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-for-users-who-do-not-use-conda" class="md-nav__link">
    Note for users who do not use Conda
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stacktraces" class="md-nav__link">
    Stacktraces
  </a>
  
    <nav class="md-nav" aria-label="Stacktraces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubuntu" class="md-nav__link">
    Ubuntu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macos" class="md-nav__link">
    macOS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/lfortran/lfortran/edit/master/docs/installation.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="installation">Installation</h1>
<p>All the instructions below work on Linux, macOS and Windows.</p>
<h2 id="binaries">Binaries</h2>
<p>The recommended way to install LFortran is using Conda.
Install Conda for example by installing the
<a href="https://conda.io/en/latest/miniconda.html">Miniconda</a> installation by following instructions there for your platform.
Then create a new environment (you can choose any name, here we chose <code>lf</code>) and
activate it:
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>conda create -n lf
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>conda activate lf
</code></pre></div>
Then install LFortran by:
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>conda install lfortran -c conda-forge
</code></pre></div>
Now the <code>lf</code> environment has the <code>lfortran</code> compiler available, you can start the
interactive prompt by executing <code>lfortran</code>, or see the command line options using
<code>lfortran -h</code>.</p>
<p>The Jupyter kernel is automatically installed by the above command, so after installing Jupyter itself:
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>conda install jupyter -c conda-forge
</code></pre></div>
You can create a Fortran based Jupyter notebook by executing:
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>jupyter notebook
</code></pre></div>
and selecting <code>New-&gt;Fortran</code>.</p>
<h2 id="build-from-a-source-tarball">Build From a Source Tarball</h2>
<p>This method is the recommended method if you just want to install LFortran, either yourself or in a package manager (Spack, Conda, Debian, etc.). The source tarball has all the generated files included and has minimal dependencies.</p>
<p>First we have to install dependencies, for example using Conda:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>conda create -n lf python cmake llvmdev
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>conda activate lf
</code></pre></div>
Then download a tarball from
<a href="https://lfortran.org/download/">https://lfortran.org/download/</a>,
e.g.:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>wget https://lfortran.github.io/tarballs/dev/lfortran-0.9.0.tar.gz
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>tar xzf lfortran-0.9.0.tar.gz
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">cd</span> lfortran-0.9.0
</code></pre></div>
And build:
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>cmake -DWITH_LLVM=yes -DCMAKE_INSTALL_PREFIX=`pwd`/inst .
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>make -j8
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>make install
</code></pre></div>
This will install the <code>lfortran</code> into the <code>inst/bin</code>.</p>
<h2 id="build-from-git">Build From Git</h2>
<p>We assume you have C++ compilers installed, as well as <code>git</code> and <code>wget</code>.
In Ubuntu, you can also install <code>binutils-dev</code> for stacktraces.</p>
<p>If you do not have Conda installed, you can do so on Linux (and similarly on
other platforms):
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>wget --no-check-certificate https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>bash miniconda.sh -b -p <span class="nv">$HOME</span>/conda_root
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>
Then prepare the environment:
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>conda create -n lf -c conda-forge <span class="nv">llvmdev</span><span class="o">=</span><span class="m">11</span>.0.1 <span class="nv">bison</span><span class="o">=</span><span class="m">3</span>.4 re2c python cmake make toml
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>conda activate lf
</code></pre></div>
Clone the LFortran git repository:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>git clone https://github.com/lfortran/lfortran.git
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>cd lfortran
</code></pre></div>
Generate files that are needed for the build (this step depends on <code>re2c</code>, <code>bison</code> and <code>python</code>):
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>./build0.sh
</code></pre></div>
Now the process is the same as installing from the source tarball. For example to build in Debug mode:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cmake -DCMAKE_BUILD_TYPE=Debug -DWITH_LLVM=yes -DCMAKE_INSTALL_PREFIX=`pwd`/inst .
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>make -j8
</code></pre></div></p>
<p>Run tests:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>ctest
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>./run_tests.py
</code></pre></div>
Run an interactive prompt:
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>./src/bin/lfortran
</code></pre></div></p>
<h2 id="build-from-git-on-windows-with-visual-studio">Build from Git on Windows with Visual Studio</h2>
<p>Install Visual Studio (MSVC), for example the version 2022, you can download the
Community version for free from: https://visualstudio.microsoft.com/downloads/.</p>
<p>Install miniforge using the Windows installer from https://github.com/conda-forge/miniforge.</p>
<p>Launch the Miniforge Prompt from the Desktop.</p>
<p>In the shell, initialize the MSVC compiler using:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>call &quot;C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\Tools\VsDevCmd&quot; -arch=x64
</code></pre></div>
<p>You can optionally test that MSVC works by:
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>cl /?
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>link /?
</code></pre></div>
Both commands must print help (several pages).</p>
<p>Now you can download and build LFortran:
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>git clone https://github.com/lfortran/lfortran.git
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>cd lfortran
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>conda env create -f environment_win.yml
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>conda activate lf
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>build0.bat
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>build1.bat
</code></pre></div></p>
<p>If everything compiled, then you can use LFortran as follows:
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>inst\bin\lfortran examples/expr2.f90
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>a.out
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>inst\bin\lfortran
</code></pre></div>
And so on.</p>
<p>Note: LFortran currently uses the MSVC's linker program (<code>link</code>), which is only
available when the MSVC bat script above is ran. If you forget to activate it,
LFortran's linking will fail.</p>
<p>Note: the miniforge shell seems to be running some version of <code>git-bash</code>
(although it is <code>cmd.exe</code>), which has some unix-like filesystem mounted in
<code>/usr</code> and several commands available such as <code>ls</code>, <code>which</code>, <code>git</code>, <code>vim</code>.  For
this reason the Conda build <code>environment_win.yml</code> contains everything needed,
including <code>git</code>.</p>
<h2 id="build-from-git-on-windows-with-wsl">Build from Git on Windows with WSL</h2>
<ul>
<li>In windows search "turn windows features on or off".</li>
<li>Tick Windows subsystem for Linux.</li>
<li>Press OK and restart computer.</li>
<li>Go to Microsoft store and download Ubuntu 20.04, and launch it.</li>
<li>Run the following commands.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>wget  https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-x86_64.sh -O miniconda.sh
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>bash miniconda.sh -b -p <span class="nv">$HOME</span>/conda_root
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>
* Now do the following to configure the path
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo nano .bashrc
</code></pre></div>
* Then go to the bottom of the file and paste the following
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/conda_root/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
</code></pre></div>
* Then press ctrl + O (save), Enter (confirm), ctrl + X (exit)
* After that restart Ubuntu
* Run the following
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>conda create -n lf -c conda-forge <span class="nv">llvmdev</span><span class="o">=</span><span class="m">11</span>.0.1 <span class="nv">bison</span><span class="o">=</span><span class="m">3</span>.4 re2c python cmake make toml
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>conda init bash
</code></pre></div>
* Restart Ubuntu again
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>conda activate lf
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>sudo apt update
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>sudo apt-get install build-essential
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>sudo apt-get install zlib1g-dev
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>sudo apt install clang
</code></pre></div>
* You can change the directory to a Windows location using <code>cd /mnt/[drive letter]/[windows location]</code>.
* e.g. <code>cd mnt/c/Users/name/source/repos/</code></p>
<ul>
<li>
<p>Now clone the LFortran git repository
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>git clone https://github.com/lfortran/lfortran.git
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nb">cd</span> lfortran
</code></pre></div></p>
</li>
<li>
<p>Run the following commands
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>conda activate lf
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>./build0.sh
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>cmake -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug -DWITH_LLVM<span class="o">=</span>yes -DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/inst .<span class="se">\</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>make -j8
</code></pre></div></p>
</li>
<li>
<p>If everything compiles, you can use LFortran as follows
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>./src/bin/lfortran ./examples/expr2.f90
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>./a.out
</code></pre></div></p>
</li>
<li>
<p>Run an interactive prompt
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>./src/bin/lfortran
</code></pre></div></p>
</li>
<li>
<p>Run tests
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>ctest
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>./run_tests.py
</code></pre></div></p>
</li>
</ul>
<h2 id="enabling-the-jupyter-kernel">Enabling the Jupyter Kernel</h2>
<p>To install the Jupyter kernel, install the following Conda packages also:
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>conda install xeus xtl nlohmann_json cppzmq
</code></pre></div>
and enable the kernel by <code>-DWITH_XEUS=yes</code> and install into <code>$CONDA_PREFIX</code>. For
example:
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>cmake \
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>    -DCMAKE_BUILD_TYPE=Debug \
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>    -DWITH_LLVM=yes \
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>    -DWITH_XEUS=yes \
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>    -DCMAKE_PREFIX_PATH=&quot;$CONDA_PREFIX&quot; \
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>    -DCMAKE_INSTALL_PREFIX=&quot;$CONDA_PREFIX&quot; \
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>    .
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>cmake --build . -j4 --target install
</code></pre></div>
To use it, install Jupyter (<code>conda install jupyter</code>) and test that the LFortran
kernel was found:
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>jupyter kernelspec list --json
</code></pre></div>
Then launch a Jupyter notebook as follows:
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>jupyter notebook
</code></pre></div>
Click <code>New-&gt;Fortran</code>. To launch a terminal jupyter LFortran console:
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>jupyter console --kernel=fortran
</code></pre></div></p>
<h2 id="build-from-git-with-nix">Build From Git with Nix</h2>
<p>One of the ways to ensure exact environment and dependencies is with <code>nix</code>. This will ensure that system dependencies do not interfere with the development environment. If you want, you can report bugs in a <code>nix-shell</code> environment to make it easier for others to reproduce.</p>
<h3 id="with-root">With Root</h3>
<p>We start by getting <code>nix</code>. The following multi-user installation will work on any machine with a Linux distribution, MacOS or Windows (via WSL):
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>sh &lt;<span class="o">(</span>curl -L https://nixos.org/nix/install<span class="o">)</span> --daemon
</code></pre></div></p>
<h3 id="without-root">Without Root</h3>
<p>If you would like to not provide <code>nix</code> with root access to your machine, on Linux distributions we can use <a href="https://github.com/DavHau/nix-portable">nix-portable</a>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>wget https://github.com/DavHau/nix-portable/releases/download/v003/nix-portable
</code></pre></div>
Now just prepend all <code>nix-shell</code> commands with <code>NP_RUNTIME=bwrap ./nix-portable</code>. So:
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1"># Do not</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>nix-shell --run <span class="s2">&quot;bash&quot;</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="c1"># Do</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="nv">NP_RUNTIME</span><span class="o">=</span>bwrap ./nix-portable nix-shell --run <span class="s2">&quot;bash&quot;</span>
</code></pre></div></p>
<h3 id="development">Development</h3>
<p>Now we can enter the development environment:
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>nix-shell --run <span class="s2">&quot;bash&quot;</span> --cores <span class="m">4</span> -j4 --pure ci/shell.nix
</code></pre></div>
The <code>--pure</code> flag ensures no system dependencies are used in the environment.</p>
<p>The build steps are the same as with the <code>ci</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>./build0.sh
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>./build1.sh
</code></pre></div></p>
<p>To change the compilation environment from <code>gcc</code> (default) to <code>clang</code> we can use <code>--argstr</code>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>nix-shell --run <span class="s2">&quot;bash&quot;</span> --cores <span class="m">4</span> -j4 --pure ci/shell.nix --argstr clangOnly <span class="s2">&quot;yes&quot;</span>
</code></pre></div></p>
<h2 id="note-about-dependencies">Note About Dependencies</h2>
<p>End users (and distributions) are encouraged to use the tarball
from <a href="https://lfortran.org/download/">https://lfortran.org/download/</a>,
which only depends on LLVM, CMake and a C++ compiler.</p>
<p>The tarball is generated automatically by our CI (continuous integration) and
contains some autogenerated files: the parser, the AST and ASR nodes, which is generated by an ASDL
translator (requires Python).</p>
<p>The instructions from git are to be used when developing LFortran itself.</p>
<h2 id="note-for-users-who-do-not-use-conda">Note for users who do not use Conda</h2>
<p>Following are the dependencies necessary for installing this
repository in development mode,</p>
<ul>
<li><a href="https://ftp.gnu.org/gnu/bison/bison-3.5.1.tar.xz">Bison - 3.5.1</a></li>
<li><a href="https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.1/llvm-11.0.1.src.tar.xz">LLVM - 11.0.1</a></li>
<li><a href="https://re2c.org/install/install.html">re2c - 2.0.3</a></li>
<li><a href="ftp://sourceware.org/pub/binutils/snapshots/binutils-2.31.90.tar.xz">binutils - 2.31.90</a> - Make sure that you should enable the required options related to this dependency to build the dynamic libraries (the ones ending with <code>.so</code>).</li>
</ul>
<h2 id="stacktraces">Stacktraces</h2>
<p>LFortran can print stacktraces when there is an unhandled exception, as well as
on any compiler error with the <code>--show-stacktrace</code> option. This is very helpful
for developing the compiler itself to see where in LFortran the problem is. The
stacktrace support is turned off by default, to enable it,
compile LFortran with the <code>-DWITH_STACKTRACE=yes</code> cmake option after installing
the prerequisites on each platform per the instructions below.</p>
<h3 id="ubuntu">Ubuntu</h3>
<p>In Ubuntu, <code>apt install binutils-dev</code>.</p>
<h3 id="macos">macOS</h3>
<p>If you use the default Clang compiler on macOS, then the stacktraces should
just work on both Intel and M1 based macOS (the CMake build system
automatically invokes the <code>dsymtuil</code> tool and our Python scripts to store the
debug information, see <code>src/bin/CMakeLists.txt</code> for more details). If it does
not work, please report a bug.</p>
<p>If you do not like the default way, an alternative is to use bintutils. For
that, first install
<a href="https://spack.io/">Spack</a>, then:
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>spack install binutils
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>spack find -p binutils
</code></pre></div>
The last command will show a full path to the installed <code>binutils</code> package. Add
this path to your shell config file, e.g.:
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>export CMAKE_PREFIX_PATH_LFORTRAN=/Users/ondrej/repos/spack/opt/spack/darwin-catalina-broadwell/apple-clang-11.0.0/binutils-2.36.1-wy6osfm6bp2323g3jpv2sjuttthwx3gd
</code></pre></div>
and compile LFortran with the
<code>-DCMAKE_PREFIX_PATH="$CMAKE_PREFIX_PATH_LFORTRAN;$CONDA_PREFIX"</code> cmake option.
The <code>$CONDA_PREFIX</code> is there if you install some other dependencies (such as
<code>llvm</code>) using Conda, otherwise you can remove it.</p>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../language/" class="md-footer__link md-footer__link--next" aria-label="Next: Language" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Language
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/lfortran" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.3a4b43e5.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>